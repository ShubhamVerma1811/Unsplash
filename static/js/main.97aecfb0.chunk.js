(this["webpackJsonpunsplash-clone"]=this["webpackJsonpunsplash-clone"]||[]).push([[0],{23:function(e,t,n){e.exports=n(37)},28:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),o=n.n(c),l=n(8),u=n(6),s=(n(28),n(9)),i=n.n(s),m=n(10),d=n(14),p=n(5),f=new Headers;f.append("Authorization","Client-ID E5EHMkfEkragu1136UCpc_fGGenGwqZltRj6vgw9Hyk");var h="https://api.unsplash.com";var E=function(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),l=Object(p.a)(o,2),u=l[0],s=l[1],E=a.a.useRef(1),v=a.a.useRef(!1),w=Object(r.useState)(3),g=Object(p.a)(w,2),b=g[0],j=g[1];Object(r.useEffect)((function(){return window.addEventListener("resize",(function(e){window.innerWidth<768&&window.innerWidth>480&&j(2),window.innerWidth<480&&j(1),window.innerWidth>768&&j(3)})),window.removeEventListener("resize",(function(e){console.log("removed")}))}),[]),Object(r.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),t="".concat(h,"/photos/?per_page=12&page=").concat(E.current),n=new Request(t,{method:"GET",headers:f,mode:"cors"}),v.current=!0,e.next=6,fetch(n);case 6:return r=e.sent,e.next=9,r.json();case 9:a=e.sent,c((function(e){return[].concat(Object(m.a)(e),Object(m.a)(a))})),s(!1),v.current=!1,console.log(E.current),console.log("called loadData");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e();var n=function(t){document.documentElement.scrollTop>document.documentElement.scrollHeight/3&&!v.current&&(console.log("scrolled"),E.current+=1,e())};return window.addEventListener("scroll",n),console.log("once"),function(){window.removeEventListener("scroll",n)}}),[]);var O=function(){for(var e=[],t=0;t<b;t++)e.push([]);for(var r=0;r<n.length;r++)e[r%e.length].push(n[r]);return e}();return a.a.createElement("div",null,a.a.createElement("h1",null,"Home"),a.a.createElement("div",{className:"imgContainer"},O.map((function(e){return a.a.createElement("div",null,e.map((function(e){return a.a.createElement("div",{style:{paddingBottom:"20px"}},a.a.createElement("img",{className:"images",src:e.urls.regular,alt:e.alt_descriptions}))})))})),u&&a.a.createElement("h1",null,"Loading ...")))};n(30);var v=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1];return a.a.createElement("div",null,a.a.createElement("nav",null,a.a.createElement(l.b,{to:"/"},"Unsplash"),a.a.createElement("form",null,a.a.createElement("input",{type:"text",onChange:function(e){e.preventDefault(),c(e.target.value)},placeholder:"Search Images"}),a.a.createElement(l.b,{to:"/images/".concat(n),id:"btn"},a.a.createElement("button",{type:"submit"},"Search")))))};var w=function(){var e=Object(u.e)().query,t=a.a.useRef(1),n=a.a.useRef(!1),c=Object(r.useState)(3),o=Object(p.a)(c,2),l=o[0],s=o[1],h=Object(r.useState)([]),E=Object(p.a)(h,2),v=E[0],w=E[1];function g(){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(i.a.mark((function n(){var r,a,c,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://api.unsplash.com/search/photos?page=".concat(t.current,"&per_page=12&query=").concat(e),a=new Request(r,{method:"GET",headers:f,mode:"cors"}),n.next=4,fetch(a);case 4:return c=n.sent,n.next=7,c.json();case 7:o=n.sent,1===t.current?w(o.results):w((function(e){return[].concat(Object(m.a)(e),Object(m.a)(o.results))}));case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}Object(r.useEffect)((function(){return window.addEventListener("resize",(function(e){window.innerWidth<768&&window.innerWidth>480&&s(2),window.innerWidth<480&&s(1),window.innerWidth>768&&s(3)})),window.removeEventListener("resize",(function(e){console.log("removed")}))}),[]),Object(r.useEffect)((function(){try{g(),t.current=1;var e=function(e){document.documentElement.scrollTop>document.documentElement.scrollHeight/3&&!n.current&&(console.log("scrolled"),t.current+=1,g())};return window.addEventListener("scroll",e),console.log("once"),function(){window.removeEventListener("scroll",e)}}catch(r){console.log(r)}}),[e]);var j=function(){for(var e=[],t=0;t<l;t++)e.push([]);for(var n=0;n<v.length;n++)e[n%e.length].push(v[n]);return e}();return a.a.createElement("div",null,a.a.createElement("h1",null,e.toUpperCase()),a.a.createElement("div",null,a.a.createElement("h1",null,"Home"),a.a.createElement("div",{className:"imgContainer"},j.map((function(e){return a.a.createElement("div",null,e.map((function(e){return a.a.createElement("div",{style:{paddingBottom:"20px"}},a.a.createElement("img",{className:"images",src:e.urls.regular,alt:e.alt_descriptions}))})))})),n&&a.a.createElement("h1",null,"Loading ..."))))};var g=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(l.a,null,a.a.createElement(u.a,{path:"/",component:v}),a.a.createElement(u.a,{path:"/",exact:!0,component:E}),a.a.createElement(u.a,{path:"/images/:query",exact:!0,component:w})))};n(36);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.97aecfb0.chunk.js.map