(this["webpackJsonpunsplash-clone"]=this["webpackJsonpunsplash-clone"]||[]).push([[0],{23:function(e,t,n){e.exports=n(37)},28:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),l=n(8),s=n(6),u=(n(28),n(9)),i=n.n(u),m=n(10),p=n(14),d=n(5),f=new Headers;f.append("Authorization","Client-ID E5EHMkfEkragu1136UCpc_fGGenGwqZltRj6vgw9Hyk");var h="https://api.unsplash.com";var E=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),l=Object(d.a)(o,2),s=l[0],u=l[1],E=r.a.useRef(1),v=r.a.useRef(!1),g=Object(a.useState)(3),w=Object(d.a)(g,2),b=w[0],j=w[1];Object(a.useEffect)((function(){return window.addEventListener("resize",(function(e){window.innerWidth<768&&window.innerWidth>480&&j(2),window.innerWidth<480&&j(1),window.innerWidth>768&&j(3)})),window.removeEventListener("resize",(function(e){console.log("removed")}))}),[]),Object(a.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(p.a)(i.a.mark((function e(){var t,n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),t="".concat(h,"/photos/?per_page=12&page=").concat(E.current),n=new Request(t,{method:"GET",headers:f,mode:"cors"}),v.current=!0,e.next=6,fetch(n);case 6:return a=e.sent,e.next=9,a.json();case 9:r=e.sent,c((function(e){return[].concat(Object(m.a)(e),Object(m.a)(r))})),u(!1),v.current=!1,console.log(E.current),console.log("called loadData");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e();var n=function(t){document.documentElement.scrollTop>document.documentElement.scrollHeight/3&&!v.current&&(console.log("scrolled"),E.current+=1,e())};return window.addEventListener("scroll",n),console.log("once"),function(){window.removeEventListener("scroll",n)}}),[]);var O=function(){for(var e=[],t=0;t<b;t++)e.push([]);for(var a=0;a<n.length;a++)e[a%e.length].push(n[a]);return e}();return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement("div",{className:"imgContainer"},O.map((function(e){return r.a.createElement("div",null,e.map((function(e){return r.a.createElement("div",{style:{paddingBottom:"20px"}},r.a.createElement("img",{className:"images",src:e.urls.regular,alt:e.alt_descriptions}))})))})),s&&r.a.createElement("h1",null,"Loading ...")))};n(30);var v=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement(l.b,{to:"/"},"Unsplash"),r.a.createElement("form",null,r.a.createElement("input",{type:"text",onChange:function(e){e.preventDefault(),c(e.target.value)},placeholder:"Search Images"}),r.a.createElement(l.b,{to:"/images/".concat(n),id:"btn"},r.a.createElement("button",{type:"submit"},"Search")))))};var g=function(){var e=Object(s.e)().query,t=r.a.useRef(1),n=r.a.useRef(!1),c=Object(a.useState)([]),o=Object(d.a)(c,2),l=o[0],u=o[1],h="https://api.unsplash.com/search/photos?page=1&per_page=15&query=".concat(e);function E(){return v.apply(this,arguments)}function v(){return(v=Object(p.a)(i.a.mark((function e(){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Request(h,{method:"GET",headers:f,mode:"cors"}),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,1===t.current?u(r.results):u((function(e){return[].concat(Object(m.a)(e),Object(m.a)(r.results))}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){try{E();var e=function(e){document.documentElement.scrollTop>document.documentElement.scrollHeight/2&&!n.current&&(console.log("scrolled"),t.current+=1,E())};return window.addEventListener("scroll",e),console.log("once"),function(){window.removeEventListener("scroll",e)}}catch(a){console.log(a)}}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,e.toUpperCase()),r.a.createElement("div",{className:"imgContainer"},l.length?l.map((function(e){return r.a.createElement("div",{key:e.id,className:"content"},r.a.createElement("img",{className:"images",src:e.urls.regular,alt:e.alt_descriptions}))})):r.a.createElement("p",null,"Couldn't find any images for that. Please try again")))};var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(s.a,{path:"/",component:v}),r.a.createElement(s.a,{path:"/",exact:!0,component:E}),r.a.createElement(s.a,{path:"/images/:query",exact:!0,component:g})))};n(36);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.a6d8a99b.chunk.js.map